doctype html
head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0, shrink-to-fit=no')
    meta(name='apple-mobile-web-app-capable' content='yes')
    meta(name='apple-mobile-web-app-status-bar-style' content='default')
    meta(name='apple-mobile-web-app-title' content='alia')
    meta(name='apple-touch-fullscreen' content='yes')
    title Detalle - Alia
    script(async='', src='https://www.googletagmanager.com/gtag/js?id=G-SJETCMY2EN')
    script.
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-SJETCMY2EN', {
            'user_id': '#{userID}'
        });
    link(rel='icon' type='image/png' href='https://alia.s3.amazonaws.com/assets/img/favicon.png')
    link(rel='stylesheet' href='https://nvio.s3.amazonaws.com/assets/bootstrap/css/bootstrap.min.css')
    link(rel='stylesheet' href='https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i')
    link(rel='stylesheet' href='https://use.fontawesome.com/releases/v5.12.0/css/all.css')
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
    link(rel='stylesheet' href='https://nvio.s3.amazonaws.com/assets/fonts/fontawesome5-overrides.min.css')
    link(rel='stylesheet' href='stylesheets/placeholder.css')
.d-lg-flex.d-sm-block
    if (planID == 0)
      include ../includes/navbar-0.pug
    if (planID == 1)
      include ../includes/navbar-1.pug
    if (planID == 2)
      include ../includes/navbar-2.pug
    if (planID == 3)
      include ../includes/navbar-3.pug  
    #content-wrapper.d-flex.flex-column.flex-fill
        #content(style='margin-top: 32px;')
          .container-fluid#membership
              if (message.content)
                .row.justify-content.center.mt-3
                  .col
                    .alert(class='alert-'+message.type)
                      | #{message.content}
              h3.text-dark.mb-4 Planes y Facturación
              a.btn.btn-primary(type='button' style='margin-bottom: 10px; background: #12c4f2; border: #12c4f2;' href='../profile')
                i.fa.fa-arrow-left
                | &nbsp;Regresar
              .col-lg-12(style="padding-left: 0px; padding-right: 0px;")
                  .row.flex-column.flex-lg-row
                      .col.col-sm-12.col-md-12.col-lg-6
                          .card.shadow.mb-3
                              .card-header.py-3
                                  p.text-primary.m-0.font-weight-bold Tu Membresía
                              .card-body
                                  .form-row
                                      .col-xs-2.col-md-4
                                          .form-group
                                              strong Nombre del Plan
                                              br
                                              .animated-placeholder#planName

                                      .col-xs-2.col-md-4
                                          .form-group
                                              strong Valor del Plan
                                              br
                                              .animated-placeholder#planPrice

                                  .form-row
                                      .col-xs-2.col-md-4
                                          .form-group
                                              strong#nextBillingDateTitle
                                              br
                                              .animated-placeholder#nextBillingDate

                                      .col-xs-2.col-md-4
                                          .form-group
                                              strong Renovación Automática
                                              br
                                              .animated-placeholder#autoRenewal

                                  .form-row
                                      .col-xs-2.col-md-4#newPlanNameCol
                                          .form-group
                                              strong#newPlanNameTitle
                                              br
                                              .animated-placeholder#newPlanName

                                      .col-xs-2.col-md-4#newPlanPriceCol
                                          .form-group
                                              strong#newPlanPriceTitle
                                              br
                                              .animated-placeholder#newPlanPrice


                                  .form-group(style='text-align: left;')
                                      a.btn.btn-primary.btn-sm(href='/billing/plans' style='background: #12c4f2; border: #12c4f2; margin-top: 5px;') Cambiar Plan

                      .col.col-sm-12.col-md-12.col-lg-6
                          .card.shadow.mb-3
                              .card-header.py-3
                                  p.text-primary.m-0.font-weight-bold Tu Método de Pago
                              .card-body
                                  .form-row
                                      .col-xs-2.col-md-4
                                          .form-group
                                              strong Método de Pago
                                              br
                                              .animated-placeholder#paymentMethod

                                  .form-row
                                      .col-xs-2.col-md-4
                                          .form-group(style="margin-bottom: 6px;")
                                              strong Datos de Transferencia
                                              br
                                              a.btn.btn-primary.btn-sm(data-toggle='modal' data-target='#modal-transfer' href='#transfer' style='background: #12c4f2; border: #12c4f2; margin-top: 5px;') Mostrar

                                  .form-group(style='text-align: left; margin-bottom: 0px;')
                                      a.btn.btn-primary.btn-sm.disabled(href='#' style='background: #12c4f2; border: #12c4f2; margin-top: 5px;') Cambiar Método de Pago
                                      p(style="margin-bottom: 0px;") Estamos trabajando para integrar más métodos de pago =)


          .container-fluid#billingHistory
              .col-lg-12(style="padding-left: 0px; padding-right: 0px;")
                  .row
                      .col
                          .card.shadow.mb-3
                              .card-header.py-3
                                  p.text-primary.m-0.font-weight-bold Historial de Facturación
                              .card-body
                                  .container-fluid(style="overflow-x:auto; padding-left: 0px; padding-right: 0px;")
                                      table.table.table-striped
                                          thead.text-white(style='background-color: #0d45a1')
                                              tr
                                                  th(scope='col') Fecha
                                                  th(scope='col') Descripción
                                                  th(scope='col') Periodo del servicio
                                                  th(scope='col') Forma de pago
                                                  th(scope='col') Total
                                                  th(scope='col') Estado
                                                  th(scope='col') Detalles
                                                  th(scope='col') Pagar
                                          tbody#billingHistoryBody

                                  p NOTA: Solo se muestra el último año del historial de facturación
                                  p Recuerda que siempre puedes escribirnos a contacto@aliachile.com para resolver cualquier duda
        include ../includes/tooltip
        footer.bg-white.sticky-footer
            .container.my-auto
                .text-center.my-auto.copyright
                    span Copyright &copy; Alia 2021

    .modal.fade#modal-invoice(tabindex='-1', role='dialog')
        .modal-dialog(role='document')
            .modal-content
                .modal-header
                    h5.modal-title#invoiceTitle
                    button.close(type='button', data-dismiss='modal', aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    p
                        #invoiceDate
                    p
                        #invoiceDescription
                    p
                        #invoicePeriod
                    p
                        #invoicePaymentMethod
                    p
                        #invoiceSubtotal
                    p
                        #invoiceDiscount
                    p
                        #invoiceDiscountReason
                    p
                        #invoiceTotal
                    p
                        #retryInvoice
                    p
                        #updatedAtInvoice
                    p
                        #statusInvoice

                .modal-footer
                    button.btn.btn-secondary(type='button', data-dismiss='modal') Cancelar


    .modal.fade#modal-pay(tabindex='-1', role='dialog')
        .modal-dialog(role='document')
            .modal-content
                .modal-header
                    h5.modal-title Datos de Transferencia Alia
                    button.close(type='button', data-dismiss='modal', aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    p Nombre: Angelo Romano
                    p Rut: 19.624.481-6
                    p Banco: Banco BCI
                    p Tipo de Cuenta: Cuenta Vista
                    p Número de Cuenta: 7770 19 624 481
                    P Correo electrónico: contacto@aliachile.com
                    p
                        #invoiceTotalPayment
                .modal-footer
                    button.btn.btn-secondary(type='button', data-dismiss='modal') Cancelar
                    button.btn.btn-success#paymentReady(type='button', data-dismiss='modal') Ya Pagué

    .modal.fade#modal-transfer(tabindex='-1', role='dialog')
        .modal-dialog(role='document')
            .modal-content
                .modal-header
                    h5.modal-title Datos de Transferencia Alia
                    button.close(type='button', data-dismiss='modal', aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                  p Nombre: Angelo Romano
                  p Rut: 19.624.481-6
                  p Banco: Banco BCI
                  p Tipo de Cuenta: Cuenta Vista
                  p Número de Cuenta: 7770 19 624 481
                  P Correo electrónico: contacto@aliachile.com
                .modal-footer
                    button.btn.btn-secondary(type='button', data-dismiss='modal') Cancelar

    .modal.fade#modal-logout(tabindex='-1', role='dialog')
        .modal-dialog(role='document')
            .modal-content
                .modal-header
                    h5.modal-title Estás a punto de cerrar sesión
                    button.close(type='button', data-dismiss='modal', aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    p ¿Deseas cerrar tu sesión?
                .modal-footer
                    button.btn.btn-secondary(type='button', data-dismiss='modal') Cancelar
                    a.btn.btn-danger(href='/logout') Cerrar Sesión
script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js")
script(src='/javascripts/theme.js')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx' crossorigin='anonymous')
script(src='https://nvio.s3.amazonaws.com/assets/js/script.min.js')
script(src='https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js')
script(src='javascripts/billing-info.js')
script(src='/javascripts/navbars.js')
script.
  nav('billing');
