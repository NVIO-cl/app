doctype html
head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0, shrink-to-fit=no, user-scalable=no')
    meta(name='apple-mobile-web-app-capable' content='yes')
    meta(name='apple-mobile-web-app-status-bar-style' content='default')
    meta(name='apple-mobile-web-app-title' content='alia')
    meta(name='apple-touch-fullscreen' content='yes')
    title Profile - Alia
    script(async='', src='https://www.googletagmanager.com/gtag/js?id=G-SJETCMY2EN')
    script.
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-SJETCMY2EN', {
        'user_id': '#{userID}'
      });
    link(rel='icon' type='image/png' href='https://alia.s3.amazonaws.com/assets/img/favicon.png')
    link(rel='stylesheet' href='https://nvio.s3.amazonaws.com/assets/bootstrap/css/bootstrap.min.css')
    link(rel='stylesheet' href='https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i')
    link(rel='stylesheet' href='https://use.fontawesome.com/releases/v5.12.0/css/all.css')
    link(rel='stylesheet' href='stylesheets/placeholder.css')
    link(rel='manifest' href='/manifest.json')
.d-lg-flex.d-sm-block
  if (planID == 0)
    include ./includes/navbar-0.pug
  if (planID == 1)
    include ./includes/navbar-1.pug
  if (planID == 2)
    include ./includes/navbar-2.pug
  if (planID == 3)
    include ./includes/navbar-3.pug
  #content-wrapper.d-flex.flex-column.flex-fill
      #content
          .container-fluid(style='margin-top: 32px;')
              h3.text-dark.mb-4 Perfil
              .row.mb-3
                  .col-lg-4
                      .card.mb-3
                          .card-body.text-center.shadow
                              img.mb-3.mt-4.img-fluid#imageUploadPreview(src=logo style='max-width:200px;max-height:200px;')
                              .mb-3
                                form#imageUploadForm(enctype='multipart/form-data')
                                    label.btn.btn-primary.btn-sm(for="imageUpload" style="margin-bottom:0;") Cambiar Foto
                                    input#imageUpload(type="file", name="imageUpload" hidden accept="image/jpeg, image/png")
                                    //-button.btn.btn-primary.btn-sm(type='button' style='margin-right: 5px;') Cambiar Foto
                                    button.btn.btn-danger.btn-sm#imageUploadButon(type='submit' style='margin-left: 5px;') Guardar
                              .mb-1
                                #imageUploadStatus
                      .card.mb-3.shadow
                        .card-header.py-3
                          p.text-primary.m-0.font-weight-bold Plan y Cobros
                        .card-body
                          p.text-primary.m-0.font-weight-bold Detalles del Plan
                          .row
                            .col-lg-12.col-md-6.col-sm-12
                              .text-secondary.m-0.font-weight-bold.text-left.animated-placeholder#planName
                              small.text-secondary.m-0.text-left#planPrice
                          p
                          p.text-primary.m-0.font-weight-bold Método de Pago
                          .row
                            .col-lg-12.col-md-6.col-sm-12
                              p.text-secondary.m-0.font-weight-bold.text-left.animated-placeholder#paymentMethod
                            .col-lg-12.col-md-6.col-sm-12
                              p.text-primary.m-0.text-right
                                a(href='/billing') Más Detalles
                  .col-lg-8
                      .row
                          .col
                              .card.shadow.mb-3
                                  .card-header.py-3
                                      p.text-primary.m-0.font-weight-bold Configuraci&oacute;n de Empresa
                                      
                                  .card-body
                                      form#nameForm
                                          .form-row
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='companyName')
                                                          strong Nombre de Empresa
                                                          br
                                                      input.form-control#companyName(type='text' placeholder='Nombre Empresa' name='companyName' value=companyData.companyName.S)
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='firstName')
                                                          strong Nombre Representante
                                                      input.form-control#firstName(type='text' placeholder='Nombre Representante' name='firstName' value=companyData.firstName.S)
                                          .form-row
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='lastName')
                                                          strong Apellidos Representante
                                                          br
                                                      input.form-control#lastName(type='text' placeholder='Apellidos' name='lastName' value=companyData.lastName.S)
                                          .form-group
                                              button.btn.btn-primary.btn-sm#nameFormButton(type='submit') Guardar
                                              
                                              
                              .card.shadow.mb-3
                                  .card-header.py-3
                                      p.text-primary.m-0.font-weight-bold Configuraci&oacute;n de Contacto
                                  .card-body
                                      form#contactForm
                                          .form-row
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='contactNumber')
                                                          strong Teléfono del Representante
                                                      .input-group
                                                        .input-group-prepend
                                                          .input-group-text +56
                                                        if companyData.contactNumber
                                                          input.form-control#contactNumber(type='text' placeholder='9 0000 0000' name='contactNumber' value=companyData.contactNumber.N)
                                                        else
                                                          input.form-control#contactNumber(type='text' placeholder='9 1234 5678' name='contactNumber')
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='email')
                                                          strong Correo del Representante
                                                      input.form-control#email(type='text' placeholder='ejemplo@email.com' name='email' value=companyData.email.S)
                                          .form-group
                                              button.btn.btn-primary.btn-sm#contactFormButton(type='submit') Guardar
                              .card.shadow.mb-3
                                  .card-header.py-3
                                      p.text-primary.m-0.font-weight-bold Datos para Factura y Transferencia
                                  .card-body
                                          
                                      form#transferForm
                                        p.text-primary.m-0.font-weight-bold Factura
                                          .form-row
                                            .col-xs-2.col-md-6
                                                .form-group
                                                    label(for='companyTurn')
                                                        strong Giro
                                                    input.form-control#companyTurn(type='text' placeholder='Giro SII' name='companyTurn' value=companyData.companyTurn.S)
                                            .col-xs-2.col-md-6
                                                .form-group
                                                    label(for='companyRut')
                                                        strong RUT Empresa
                                                    input.form-control#companyRut(type='text' placeholder='1.234.567-8' name='companyRut' value=companyData.companyRut.S)
                                    
                                        p.text-primary.m-0.font-weight-bold Transferencia
                                          .form-row
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='paymentDataName')
                                                          strong Nombre Asociado a Cuenta
                                                      input.form-control#paymentDataName(type='text' placeholder='Nombre' name='paymentDataName' value=companyData.paymentData.M.name.S)
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='paymentDataRut')
                                                          strong RUT
                                                      input.form-control#paymentDataRut(type='text' placeholder='RUT' name='paymentDataRut' value=companyData.paymentData.M.rut.S)
                                          .form-row
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='paymentDataBank')
                                                          strong Banco
                                                          br
                                                      input.form-control#paymentDataBank(type='text' placeholder='Banco' name='paymentDataBank' value=companyData.paymentData.M.bank.S)
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='paymentDataAccType')
                                                          strong Tipo de Cuenta
                                                          br
                                                      input.form-control#paymentDataAccType(type='text' placeholder='Tipo Cuenta' name='paymentDataAccType' value=companyData.paymentData.M.accType.S)
                                          .form-row
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='paymentDataAccNum')
                                                          strong Número de Cuenta
                                                          br
                                                      input.form-control#paymentDataAccNum(type='text' placeholder='Número Cuenta' name='paymentDataAccNum' value=companyData.paymentData.M.accNum.S)
                                              .col-xs-2.col-md-6
                                                  .form-group
                                                      label(for='paymentDataEmail')
                                                          strong Correo Electr&oacute;nico Cuenta
                                                          br
                                                      input.form-control#paymentDataEmail(type='text' placeholder='Correo' name='paymentDataEmail' value=companyData.paymentData.M.email.S)
                                          .form-group
                                            button.btn.btn-primary.btn-sm#transferFormButton(type='submit') Guardar
      footer.bg-white.sticky-footer
          .container.my-auto
              .text-center.my-auto.copyright
                  span Copyright &copy; Alia 2021
      //a.border.rounded.d-inline.scroll-to-top(href='#page-top')
      //    i.fas.fa-angle-up
  .modal.fade#modal-logout(tabindex='-1', role='dialog')
      .modal-dialog(role='document')
          .modal-content
              .modal-header
                  h5.modal-title Estás a punto de cerrar sesión
                  button.close(type='button', data-dismiss='modal', aria-label='Close')
                      span(aria-hidden='true') &times;
              .modal-body
                  p ¿Deseas cerrar tu sesión?
              .modal-footer
                  button.btn.btn-secondary(type='button', data-dismiss='modal') Cancelar
                  a.btn.btn-danger(href='/logout') Cerrar Sesión
script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js' integrity='sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==' crossorigin='anonymous')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx' crossorigin='anonymous')
script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js')
script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.js')
script(src='https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js')
script(src='/javascripts/theme.js')
script(src='/javascripts/profile-saver.js')
script(src='/javascripts/profile-plan-info.js')
script(src='https://nvio.s3.amazonaws.com/assets/js/script.min.js')
script(src='/javascripts/navbars.js')
script.
  nav('profile');
